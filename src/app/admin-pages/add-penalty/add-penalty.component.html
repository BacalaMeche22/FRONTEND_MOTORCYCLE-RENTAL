<div class="p-6 w-full max-w-md sm:max-w-lg md:max-w-xl lg:max-w-2xl bg-white rounded-lg shadow-md mx-auto h-auto">
    <h2 class="text-xl font-bold mb-4 text-center">ADD PAYMENT</h2>

    <form [formGroup]="paymentForm" class="space-y-4 h-auto">
        <div class="mb-4">
            <label for="penalty_amount" class="block text-sm md:text-base font-medium text-blue">
                Penalty Amount
            </label>
            <input type="number" id="penalty_amount" formControlName="penalty_amount"
                class="mt-1 p-2 w-full border rounded-md focus:ring focus:ring-blue text-sm md:text-base"
                placeholder="â‚± 0.00" [disabled]="true" />
        </div>

        <div class="mb-4 relative">
            <label class="block text-sm md:text-base font-medium text-blue">Penalty Type</label>
            <div class="mt-1 relative">
                <button type="button"
                    class="w-full text-left p-2 border rounded-md focus:ring focus:ring-blue bg-white text-sm md:text-base"
                    (click)="toggleDropdown()">
                    {{ selectedPenalties.length > 0 ? selectedPenalties.join(', ') : 'Select Penalty Type' }}
                </button>

                <div *ngIf="dropdownOpen" class="absolute w-full mt-1 border rounded-md shadow-lg bg-white z-10">
                    <div class="p-2 space-y-2">
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" (change)="onPenaltyChange($event, 'Helmet Damage')"
                                [checked]="selectedPenalties.includes('Helmet Damage')" />
                            <span class="text-sm md:text-base">Helmet Damage</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" (change)="onPenaltyChange($event, 'Helmet Loss')"
                                [checked]="selectedPenalties.includes('Helmet Loss')" />
                            <span class="text-sm md:text-base">Helmet Loss</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" (change)="onPenaltyChange($event, 'Phone Holder Damage')"
                                [checked]="selectedPenalties.includes('Phone Holder Damage')" />
                            <span class="text-sm md:text-base">Phone Holder Damage</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" (change)="onPenaltyChange($event, 'Phone Holder Loss')"
                                [checked]="selectedPenalties.includes('Phone Holder Loss')" />
                            <span class="text-sm md:text-base">Phone Holder Loss</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" (change)="onPenaltyChange($event, 'Motor Damage')"
                                [checked]="selectedPenalties.includes('Motor Damage')" />
                            <span class="text-sm md:text-base">Motor Damage</span>
                        </label>
                    </div>
                </div>
            </div>
            <div *ngIf="paymentForm.get('penalty_type')?.invalid && paymentForm.get('penalty_type')?.touched"
                class="text-red text-sm mt-1">
                Penalty type is required.
            </div>
        </div>
        <div class="flex flex-col sm:flex-row justify-between mt-6 space-y-3 sm:space-y-0 sm:space-x-4">
            <button type="button" (click)="cancel()"
                class="bg-gray-200 hover:bg-gray-400 text-black font-medium px-4 py-2 rounded w-full sm:w-auto">
                Cancel
            </button>
            <button type="button" (click)="submitPayment()"
                class="bg-blue hover:bg-blue-600 text-white font-medium px-4 py-2 rounded w-full sm:w-auto">
                Pay In Total
            </button>
        </div>
    </form>
</div>