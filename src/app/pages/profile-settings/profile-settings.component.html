<mat-tab-group>
  <form [formGroup]="accountform">
    <mat-tab class="bg-blue" label="My Profile">
      <main class="flex items-center justify-center bg-blue-100 overflow-y-auto h-screen md:h-auto">
        <div class="w-full p-8 bg-white rounded-lg shadow-lg">
          <div class="flex justify-center mb-4">
            <label class="relative cursor-pointer" title="Click to change profile picture">
              <img [src]="userInfo?.profile_pic || 'assets/default-profile.png'" alt="Profile Picture"
                class="w-52 h-52 rounded-full object-cover border-4 border-indigo-500 shadow-md" />
              <input type="file" (change)="onFileSelected($event)" accept="image/*" class="hidden" />
              <span
                class="absolute bottom-0 right-0 w-8 h-8 bg-indigo-600 text-white rounded-full flex items-center justify-center text-xs font-bold">
                Edit
              </span>
            </label>
          </div>


          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label for="first_name" class="block text-sm font-medium text-indigo-900 mb-1">First Name</label>
              <input type="text" id="first_name" formControlName="first_name"
                class="w-full px-3 py-2 text-sm border rounded-lg focus:ring-indigo-500 focus:border-indigo-500"
                placeholder="Your first name" required />
            </div>

            <div>
              <label for="last_name" class="block text-sm font-medium text-indigo-900 mb-1">Last Name</label>
              <input type="text" id="last_name" formControlName="last_name"
                class="w-full px-3 py-2 text-sm border rounded-lg focus:ring-indigo-500 focus:border-indigo-500"
                placeholder="Your last name" required />
            </div>

            <div>
              <label for="email" class="block text-sm font-medium text-indigo-900 mb-1">Email</label>
              <input type="email" id="email" formControlName="email"
                class="w-full px-3 py-2 text-sm border rounded-lg focus:ring-indigo-500 focus:border-indigo-500"
                placeholder="your.email@mail.com" required />
            </div>

            <div>
              <label for="contact_no" class="block text-sm font-medium text-indigo-900 mb-1">Contact No</label>
              <input id="contact_no" formControlName="contact_no"
                class="w-full px-3 py-2 text-sm border rounded-lg focus:ring-indigo-500 focus:border-indigo-500"
                placeholder="Contact Number" required />
            </div>

            <div>
              <label for="address" class="block text-sm font-medium text-indigo-900 mb-1">Address</label>
              <input id="address" formControlName="address"
                class="w-full px-3 py-2 text-sm border rounded-lg focus:ring-indigo-500 focus:border-indigo-500"
                placeholder="Address" required />
            </div>

            <div>
              <label for="role" class="block text-sm font-medium text-indigo-900 mb-1">Role</label>
              <input type="text" id="role" formControlName="role"
                class="w-full px-3 py-2 text-sm border rounded-lg focus:ring-indigo-500 focus:border-indigo-500"
                placeholder="Role" required />
            </div>
          </div>

          <button type="button"
            class="w-full mt-6 px-4 py-2 text-white bg-blue rounded-lg hover:bg-gray hover:text-white"
            (click)="updateUser()">
            Save Changes
          </button>
        </div>
      </main>
    </mat-tab>

    <mat-tab label="Security">
      <main class="flex items-center justify-center bg-blue-100">
        <div class="w-full p-8 bg-white rounded-lg shadow-lg">
          <div class="grid grid-cols-1 gap-4">
            <div>
              <label for="new_password" class="block text-sm font-medium text-indigo-900 mb-1">New Password</label>
              <input type="password" id="new_password" #newPassword
                class="w-full px-3 py-2 text-sm border rounded-lg focus:ring-indigo-500 focus:border-indigo-500"
                placeholder="Enter new password" required />
            </div>

            <div>
              <label for="confirm_password" class="block text-sm font-medium text-indigo-900 mb-1">Confirm New
                Password</label>
              <input type="password" id="confirm_password" #confirmPassword
                class="w-full px-3 py-2 text-sm border rounded-lg focus:ring-indigo-500 focus:border-indigo-500"
                placeholder="Re-enter new password" required />
            </div>
          </div>

          <button type="button"
            class="w-full mt-6 px-4 py-2 text-white bg-blue rounded-lg hover:bg-gray hover:text-white"
            (click)="changePassword(newPassword.value, confirmPassword.value)">
            Update Password
          </button>
        </div>
      </main>
    </mat-tab>
  </form>
</mat-tab-group>